<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1080, initial-scale=1.0">
    <title>Totem Unime</title>

    <script>
        (function() {
            try {
                const building = new URLSearchParams(window.location.search).get('building');
                const bgMap = {'totem_A':'totem_A.jpg','totem_B':'totem_B.jpg','totem_SBA':'totem_SBA.jpg'};
                
                if (building && bgMap[building]) {
                    const imageUrl = `/totem/assets/${bgMap[building]}`;
                    const preloader = new Image();
                    
                    preloader.onload = function() {
                        document.documentElement.style.backgroundImage = `url('${imageUrl}')`;
                        document.getElementById('loader').classList.add('hidden');
                    };
                    
                    preloader.src = imageUrl;
                } else {
                    document.addEventListener('DOMContentLoaded', () => {
                       document.getElementById('loader').classList.add('hidden');
                    });
                }
            } catch (e) { 
                console.error("Errore caricamento sfondo:", e); 
                document.addEventListener('DOMContentLoaded', () => {
                    document.getElementById('loader').classList.add('hidden');
                });
            }
        })();
    </script>
    
    <link rel="stylesheet" href="/totem/static/css/home.css">
    <link rel="icon" href="/totem/assets/favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
</head>
<body>

    <div id="loader">
        <div class="spinner-container">
            <img src="/totem/assets/logo_unime.png" alt="Logo Unime" class="spinner-logo">
            <div class="spinner"></div>
        </div>
    </div>

    <div class="header-container">
        <span id="current-date"></span>
        <span id="current-time"></span>
    </div>

    <div class="menu-container">
        <nav class="main-menu">
            <a href="wayfinding.html" class="menu-button">Trova Aula</a>
            <a href="news.html" class="menu-button">Trova Ufficio</a>
            <a href="events.html" class="menu-button">Eventi / News</a>
        </nav>
    </div>

    <script src="/totem/static/js/home.js"></script>

</body>
</html>